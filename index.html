<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Budget Planner</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        * {
            box-sizing: border-box;
        }
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f8f9fa;
            color: #333;
            padding: 15px;
            margin: 0;
            line-height: 1.5;
        }
        h1, h2 {
            color: #4a90e2;
            margin-top: 0.5em;
            margin-bottom: 0.5em;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .tables-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-top: 20px;
        }
        @media (min-width: 768px) {
            .tables-container {
                flex-direction: row;
            }
        }
        .table-wrapper {
            width: 100%;
        }
        @media (min-width: 768px) {
            .table-wrapper {
                width: 48%;
            }
        }
        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            font-size: 14px;
        }
        @media (min-width: 480px) {
            table {
                font-size: 16px;
            }
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px 10px;
            text-align: left;
        }
        @media (min-width: 480px) {
            th, td {
                padding: 10px 12px;
            }
        }
        th {
            background-color: #4a90e2;
            color: white;
            position: sticky;
            top: 0;
        }
        input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 5px;
            text-align: right;
            font-family: inherit;
            font-size: inherit;
        }
        .bold-row {
            font-weight: bold;
            background-color: #e3f2fd;
        }
        .remaining-balance {
            background-color: #fce4ec;
            font-weight: bold;
        }
        #spendingBreakdown {
            margin: 20px auto 0;
            width: 100%;
        }
        @media (min-width: 768px) {
            #spendingBreakdown {
                width: 70%;
            }
        }
        footer {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #ccc;
            font-size: 0.9em;
            color: #666;
            text-align: center;
        }
        .income-input {
            margin: 15px 0;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        @media (min-width: 480px) {
            .income-input {
                flex-direction: row;
                justify-content: center;
            }
        }
        .income-input label {
            margin-right: 10px;
            margin-bottom: 5px;
        }
        @media (min-width: 480px) {
            .income-input label {
                margin-bottom: 0;
            }
        }
        .income-input input {
            width: 200px;
            max-width: 100%;
        }
        .calculator-link {
            display: block;
            background-color: #4a90e2;
            color: white;
            padding: 10px 15px;
            border-radius: 5px;
            text-decoration: none;
            margin: 15px auto;
            text-align: center;
            max-width: 300px;
            font-weight: 500;
        }
        .calculator-link:hover {
            background-color: #3a7bc8;
        }
        .scrollable-table {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>College Budget Planner</h1>
        
        <a href="calculator.html" class="calculator-link">Student Loan Calculator</a>

        <div class="income-input">
            <label for="income">Enter Your Monthly Income:</label>
            <input type="number" id="income" placeholder="Enter amount" oninput="updateCalculations()">
        </div>

        <div class="tables-container">
            <div class="table-wrapper">
                <h2>Typical Expenses</h2>
                <div class="scrollable-table">
                    <table id="typicalExpenses">
                        <thead>
                            <tr><th>Category</th><th>Amount ($)</th></tr>
                        </thead>
                        <tbody>
                            <tr><td>Rent or dorm fee (25-30%)</td><td>$500.00</td></tr>
                            <tr><td>Groceries (10-15%)</td><td>$250.00</td></tr>
                            <tr><td>Loan Repayments (10-15%)</td><td>$250.00</td></tr>
                            <tr><td>Car loan payment (5-10%)</td><td>$125.00</td></tr>
                            <tr><td>Entertainment (5%)</td><td>$100.00</td></tr>
                            <tr><td>Transportation (5%)</td><td>$100.00</td></tr>
                            <tr><td>Textbooks and other class supplies (4%)</td><td>$70.00</td></tr>
                            <tr><td>Cell phone (basic charges) (3%)</td><td>$60.00</td></tr>
                            <tr><td>Cable and Internet (2.5%)</td><td>$50.00</td></tr>
                            <tr><td>Car insurance ($600 divided by 12 months) (2.5%)</td><td>$50.00</td></tr>
                            <tr><td>Savings (2.5%)</td><td>$50.00</td></tr>
                            <tr><td>Dining Out (2.5%)</td><td>$50.00</td></tr>
                            <tr><td>Clothing (2.5%)</td><td>$50.00</td></tr>
                            <tr><td>Car maintenance and repairs ($480 divided by 12 months) (2%)</td><td>$40.00</td></tr>
                            <tr><td>Medical (2%)</td><td>$40.00</td></tr>
                            <tr><td>Electricity (2%)</td><td>$35.00</td></tr>
                            <tr><td>Credit card monthly payment (1%)</td><td>$25.00</td></tr>
                            <tr><td>Gas and water (1%)</td><td>$22.00</td></tr>
                            <tr><td>Parking fee ($84 divided by 12) (0.5%)</td><td>$7.00</td></tr>
                        </tbody>
                        <tfoot>
                            <tr class="bold-row"><td>Total Typical Expenses:</td><td>$1874.00</td></tr>
                        </tfoot>
                    </table>
                </div>
            </div>

            <div class="table-wrapper">
                <h2>Your Monthly Expenses</h2>
                <div class="scrollable-table">
                    <table id="userExpenses">
                        <thead>
                            <tr><th>Category</th><th>Amount ($)</th></tr>
                        </thead>
                        <tbody>
                            <tr><td>Rent or dorm fee</td><td><input type="number" id="userRent" oninput="updateCalculations()" placeholder="0"></td></tr>
                            <tr><td>Groceries</td><td><input type="number" id="userGroceries" oninput="updateCalculations()" placeholder="0"></td></tr>
                            <tr><td>Loan Repayments</td><td><input type="number" id="userLoan" oninput="updateCalculations()" placeholder="0"></td></tr>
                            <tr><td>Car loan payment</td><td><input type="number" id="userCarLoan" oninput="updateCalculations()" placeholder="0"></td></tr>
                            <tr><td>Entertainment</td><td><input type="number" id="userEntertainment" oninput="updateCalculations()" placeholder="0"></td></tr>
                            <tr><td>Transportation</td><td><input type="number" id="userTransportation" oninput="updateCalculations()" placeholder="0"></td></tr>
                            <tr><td>Textbooks and other class supplies</td><td><input type="number" id="userTextbooks" oninput="updateCalculations()" placeholder="0"></td></tr>
                            <tr><td>Cell phone</td><td><input type="number" id="userCellPhone" oninput="updateCalculations()" placeholder="0"></td></tr>
                            <tr><td>Cable and Internet</td><td><input type="number" id="userCable" oninput="updateCalculations()" placeholder="0"></td></tr>
                            <tr><td>Car insurance</td><td><input type="number" id="userCarInsurance" oninput="updateCalculations()" placeholder="0"></td></tr>
                            <tr><td>Savings</td><td><input type="number" id="userSavings" oninput="updateCalculations()" placeholder="0"></td></tr>
                            <tr><td>Dining Out</td><td><input type="number" id="userDiningOut" oninput="updateCalculations()" placeholder="0"></td></tr>
                            <tr><td>Clothing</td><td><input type="number" id="userClothing" oninput="updateCalculations()" placeholder="0"></td></tr>
                            <tr><td>Car maintenance and repairs</td><td><input type="number" id="userCarMaintenance" oninput="updateCalculations()" placeholder="0"></td></tr>
                            <tr><td>Medical</td><td><input type="number" id="userMedical" oninput="updateCalculations()" placeholder="0"></td></tr>
                            <tr><td>Electricity</td><td><input type="number" id="userElectricity" oninput="updateCalculations()" placeholder="0"></td></tr>
                            <tr><td>Credit card monthly payment</td><td><input type="number" id="userCreditCard" oninput="updateCalculations()" placeholder="0"></td></tr>
                            <tr><td>Gas and water</td><td><input type="number" id="userGas" oninput="updateCalculations()" placeholder="0"></td></tr>
                            <tr><td>Parking fee</td><td><input type="number" id="userParking" oninput="updateCalculations()" placeholder="0"></td></tr>
                        </tbody>
                        <tfoot>
                            <tr class="bold-row"><td>Total Spent</td><td id="totalSpent">$0.00</td></tr>
                            <tr class="remaining-balance"><td>Remaining Balance</td><td id="remainingBalance">$0.00</td></tr>
                        </tfoot>
                    </table>
                </div>
            </div>
        </div>

        <h2>Spending Breakdown</h2>
        <div class="scrollable-table">
            <table id="spendingBreakdown">
                <thead>
                    <tr><th>Category</th><th>Percentage of Income (%)</th></tr>
                </thead>
                <tbody>
                    <!-- Spending breakdown will be filled here dynamically -->
                </tbody>
            </table>
        </div>

        <footer>
            Source: <a href="https://studentaid.gov/resources/prepare-for-college/students/budgeting/creating-your-budget" target="_blank">Federal Student Aid</a>
            <p>Made by: Rithul Dhanekula</p>
        </footer>
    </div>

    <script>
        function updateCalculations() {
            const income = parseFloat(document.getElementById("income").value) || 0;
            let totalSpent = 0;
            const categories = [
                "userRent", "userGroceries", "userLoan", "userCarLoan", "userEntertainment", 
                "userTransportation", "userTextbooks", "userCellPhone", "userCable", 
                "userCarInsurance", "userSavings", "userDiningOut", "userClothing", 
                "userCarMaintenance", "userMedical", "userElectricity", "userCreditCard", 
                "userGas", "userParking"
            ];

            const breakdownTable = document.getElementById("spendingBreakdown").getElementsByTagName("tbody")[0];
            breakdownTable.innerHTML = '';
            
            categories.forEach(id => {
                const inputElement = document.getElementById(id);
                const category = inputElement.parentNode.previousElementSibling.textContent.split('(')[0].trim();
                const amount = parseFloat(inputElement.value) || 0;
                const percentage = income > 0 ? (amount / income) * 100 : 0;
                
                const row = document.createElement("tr");
                row.innerHTML = `<td>${category}</td><td>${percentage.toFixed(2)}%</td>`;
                breakdownTable.appendChild(row);
                totalSpent += amount;
            });

            const remainingBalance = income - totalSpent;
            document.getElementById("totalSpent").textContent = `$${totalSpent.toFixed(2)}`;
            document.getElementById("remainingBalance").textContent = `$${remainingBalance.toFixed(2)}`;
            
            // Scroll to breakdown if on mobile
            if (window.innerWidth < 768 && income > 0) {
                document.getElementById("spendingBreakdown").scrollIntoView({
                    behavior: 'smooth'
                });
            }
        }
        
        // Initialize inputs with 0 if empty
        document.addEventListener('DOMContentLoaded', function() {
            const inputs = document.querySelectorAll('input[type="number"]');
            inputs.forEach(input => {
                if (!input.value) {
                    input.value = '';
                }
            });
        });
    </script>
</body>
</html>
